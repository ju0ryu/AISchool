<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	<title>Insert title here</title>
</head>

<body>

	<form name="input_form" method="post">
		<table align="center" border="1">
			<tr>
				<td width="110">아이디</td>
				<td width="400">
					<input type="text" name="id" size="30" style="ime-mode:inactive" required
						placeholder="최소6~10, 숫자와 알파벳만 사용">
				</td>
			</tr>
			<tr>
				<td width="110">비밀번호</td>
				<td width="400">
					<input type="password" name="pw" size="30" style="ime-mode:inactive"
						placeholder="최소6~10, 숫자와 알파벳만 사용">
				</td>
			</tr>
			<tr>
				<td width="110">비밀번호확인</td>
				<td width="400">
					<input type="password" name="pw2" size="30" style="ime-mode:inactive"
						placeholder="최소6~10, 숫자와 알파벳만 사용">
				</td>
			</tr>
			<tr>
				<td width="110">주민등록번호</td>
				<td width="400"><input type="text" name="jumin1" size="6" maxlength="6"> -
					<input type="password" name="jumin2" size="7" maxlength="7">
				</td>
			</tr>
			<tr>
				<td width="110">성별</td>
				<td width="400"><input type="radio" name="gender" value="남자">남자
					<input type="radio" name="gender" value="여자">여자
				</td>
			</tr>
			<tr>
				<td>전화번호</td>
				<td><input type="tel" name="tel1" size="3" maxlength="3"> -
					<input type="tel" name="tel2" size="4" maxlength="4"> -
					<input type="tel" name="tel3" size="4" maxlength="4">
				</td>
			</tr>
			<tr>
				<td width="110">이메일</td>
				<td width="400"><input type="text" name="email1" size="10" style="ime-mode:inactive"> @
					<select name="email2">
						<option value="">메일주소선택
						<option value="hanmail.net">hanmail.net
						<option value="naver.com">naver.com
						<option value="nate.com">nate.com
					</select>
				</td>
			</tr>
			<tr>
				<td width="110">취미</td>
				<td width="400">
					<input type="checkbox" name="hobby" value="축구">축구
					<input type="checkbox" name="hobby" value="야구">야구
					<input type="checkbox" name="hobby" value="농구">농구
					<input type="checkbox" name="hobby" value="영화">영화
					<input type="checkbox" name="hobby" value="독서">독서
				</td>
			</tr>
			<tr>
				<td width="110">자기소개</td>
				<td width="400"><textarea name="intro" rows="5" cols="50" style="ime-mode:active"></textarea></td>
			</tr>
			<tr>
				<td colspan="2" align="center" width="500">
					<input type="button" value="제출" onclick="check_input()">
					<input type="reset" name="reset" value="삭제">
				</td>
			</tr>
		</table>
	</form>
	<script>

		function num_check(str){
			var i;
			for(i=0;i<str.length; i++) {
				if((str.substring(i,i+1) < '0'|| str.substring(i,i+1) > '9')){
					return false;
				}
			}
			return true;
		}

		function check_input() {
			var id = document.input_form.id.value;
			var pw = document.input_form.pw.value;
			var pw2 = document.input_form.pw2.value;
			var jumin1 = document.input_form.jumin1.value;
			var jumin2 = document.input_form.jumin2.value;
			var gender = document.input_form.gender.value;
			var tel1 = document.input_form.tel1.value;
			var tel2 = document.input_form.tel2.value;
			var tel3 = document.input_form.tel3.value;
			var email1 = document.input_form.email1.value;
			var email2 = document.input_form.email2.value;
			var hobby = document.getElementsByName('hobby');
			var intro = document.input_form.intro.value;
			var str = '';

//아이디 확인
			if (id == '') {
				alert('아이디를 입력하세요');
				document.input_form.id.focus();
				return false;
			} else {
				if (id.length < 6 || id.length > 10) {
					alert('아이디 길이를 확인하세요')
					document.input_form.id.focus();
					return false;
				} else {
					for (var i = 0; i < id.length; i++) {
						var ids = id[i];
						if (!((ids >= 'a' && ids <= 'z') || (ids >= 'A' && ids <= 'Z') || (ids >= '0' && ids <= '9'))) {
							alert('아이디 형식이 맞지 않습니다');
							document.input_form.id.focus();
							return false;
						}
					}
				}
			}
			console.log('checkId');
			str += `아이디 : ${id}\n`;

//비밀번호 확인
			if (pw == '') {
				alert('비밀번호를 입력하세요');
				document.input_form.pw.focus();
				return false;
			} else {
				if (pw.length < 6 || pw.length > 10) {
					alert('비밀번호 길이를 확인하세요')
					document.input_form.pw.focus();
					return false;
				} else {
					for (var i = 0; i < pw.length; i++) {
						var pws = pw[i];
						if (!((pws >= 'a' && pws <= 'z') || (pws >= 'A' && pws <= 'Z') || (pws >= '0' && pws <= '9'))) {
							alert('비밀번호 형식에 맞지 않습니다');
							document.input_form.pw.focus();
							return false;
						}
					}
				}
			}
			console.log('checkPw1');
			if (pw2 == '') {
				alert('비밀번호를 입력해주세요');
				document.input_form.pw2.focus();
				return false;
			} else if (!(pw2 == pw)) {
				alert('비밀번호가 일치하지 않습니다')
				document.input_form.pw2.focus();
				return false;
			}
			console.log('checkPw2');
			str += `비밀번호 : ${pw2}\n`;

//주민번호 확인
			if (jumin1 == '' && jumin2 == '') {
				alert('주민번호입력하세요');
				document.input_form.jumin1.focus();
				return false;
			} else {
				var jumin = jumin1 + jumin2;
				for (var i = 0; i < jumin.length; i++) {
					jumins = jumin[i];
					if ((jumins >= 'a' && jumins <= 'z') || (jumins >= 'A' && jumins <= 'Z')) {
						alert('숫자만 입력가능합니다');
						document.input_form.jumin1.focus();
						return false;
					}
				}
			}
			var sum = 0;
			var weight = 2;

			for (let i = 0; i < jumin.length - 1; i++) {
				sum += jumin[i] * weight;
				weight++;
				if (weight == 10) {
					weight = 2;
				}
			}
			var checkDigit = (11 - (sum % 11)) % 10;
			if (!(jumin[12] == checkDigit)) {
				alert('주민번호가 옳바르지 않습니다');
				document.input_form.jumin1.focus();
				return false;
			}
			console.log('checkJumin');
			str += `주민번호 : ${jumin1}-${jumin2}\n`;

//성별확인
			if (!(gender == '남자' || gender == '여자')) {
				alert('성별을 선택하세요');
				document.input_form.jumin1.focus();
				return false;
			}
			console.log('checkGender');
			str += `성별 : ${gender}\n`;

//전화번호확인
			if (tel1 == '' && tel2 == '' && tel3 == '') {
				alert('전화번호를 입력하세요');
				document.input_form.tel1.focus();
				return false;
			} else {
				var tel = tel1 + tel2 + tel3;
				for (var i = 0; i < tel.length; i++) {
					tels = tel[i];
					if ((tels >= 'a' && tels <= 'z') || (tels >= 'A' && tels <= 'Z')) {
						alert('숫자만 입력가능합니다');
						document.input_form.tel1.focus();
						return false;
					}
				}
			}
			console.log('checkTel');
			str += `전화번호 : ${tel1}-${tel2}-${tel3}\n`;

//이메일확인
			if (email1 == '') {
				alert('이메일을 입력하세요');
				document.input_form.email1.focus();
				return false;
			}
			if (email2 == '') {
				alert('이메일주소를 선택해주세요');
				document.input_form.email2.focus();
				return false;
			}
			console.log('checkEmail');
			str += `이메일 : ${email1}@${email2}\n`;

//취미확인
			var cnt = 0;
			var hobbySelect = '';
			for (var i = 0; i < hobby.length; i++) {
				if (hobby[i].checked == true) {
					hobbySelect += `${hobby[i].value} `;
					cnt++;
				} 
			}
			if(!(cnt >=2)){
				alert('취미를 2개이상 선택해주세요');
				return false;
			}				
			console.log('checkHobby');
			str += `취미 : ${hobbySelect}\n`

//자기소개 확인
			if (intro == '') {
				alert('자기소개를 입력해주세요');
				document.input_form.intro.focus();
				return false;
			}
			console.log('checkIntro');
			str += `소개 : ${intro}`;


			return alert(str);
		}
	</script>
</body>

</html>